---
import {MessageCircleMore, Wrench, LayoutGrid, UserPlus, Newspaper} from '@lucide/astro'
import articlesData from '../../../data/articles.json';

type IconType = typeof MessageCircleMore | typeof Wrench | typeof LayoutGrid | typeof UserPlus | typeof Newspaper;

const iconMap: Record<string, IconType> = {
  MessageCircleMore,
  Wrench,
  LayoutGrid,
  UserPlus,
  Newspaper
};
---

<section class="mt-8">
  <h2 class="text-center text-4xl font-medium mb-8 px-8">
    ¡Explora por categorías!
  </h2>

  <article
    class="md:bg-black text-white p-8 flex flex-col space-y-4 md:flex-row md:space-y-0 md:divide-x-2 md:divide-gray-700"
  >
    {articlesData.categories.map((category) => {
      const Icon = iconMap[category.icon];
      return (
        <section
          class="bg-black w-full md:w-1/5 h-40 flex items-center md:flex-col md:justify-center md-2 p-4 md:p-0 shadow-lg shadow-black md:shadow-none"
        >
          <!-- Ícono centrado solo en desktop (oculto en mobile) -->
          <span class="hidden md:block"><Icon size={50} /></span>

          <!-- Ícono a la izquierda solo en mobile -->
          <span class="md:hidden ml-8"><Icon size={40} /></span>

          <!-- Texto siempre centrado -->
          <div class="flex flex-col items-center mx-auto md:mx-0">
            <span class="text-xl mt-4">{category.name}</span>
            <span class="text-lg">{category.count} artículos</span>
          </div>
        </section>
      );
    })}
  </article>
</section>
